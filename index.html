<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Rock-Paper-Scissors</title>
</head>
<body>

    <script>
    
    function game(){

        var computerCounter = 0;
        var playerCounter = 0;


        console.log(computerCounter);
        console.log(playerCounter);

        for (computerCounter = 0 , playerCounter = 0 ; computerCounter < 3 , playerCounter < 3 ;) {

            let playerChoice = prompt("Choose Rock, Paper or Scissors:");
            let playerSelection = playerChoice.toLowerCase();
            console.log(playerSelection);

            function computerPlay() {
                let choices =[
                    'rock',
                    'paper',
                    'scissors',
                ];
                let randomNumber = Math.floor(Math.random() * 3);
                let choice = choices[randomNumber];
                return choice;    
            };

            let computerSelection = computerPlay();
            console.log(computerSelection);
        
            function playRound() {
                //Paper beats Rock
                if (playerSelection == 'paper' && computerSelection == 'rock') {
                    playerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You win! Paper beats Rock';
                } else if (playerSelection == 'rock' && computerSelection == 'paper') {
                    computerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You lose! Paper beats Rock';
                }
                //Rock beats Scissors
                else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                    computerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You lose! Rock beats Scissors';
                } else if (playerSelection == 'rock' && computerSelection == 'scissors') {
                    playerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You win! Rock beats Scissors';
                }
                //Scissors beats paper
                else if (playerSelection == 'scissors' && computerSelection == 'paper') {
                    playerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You win! Scissors beats paper';
                } else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                    computerCounter++;
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return 'You lose! Scissors beats Paper';
                }
                //Ties
                else if (playerSelection === computerSelection) {
                    console.log(playerCounter);
                    console.log(computerCounter);
                    return "It's a tie!";
                };
            };
            console.log(playRound());

            if (playerCounter == 3) {
                console.log("Great! You win!");
                break;
            } else if (computerCounter == 3) {
                console.log("Too bad. . . You lost.");
                break;
            };

        };

    };

    game();

    </script>
</body>
</html>